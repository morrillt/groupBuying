<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Charts</title>
    <script type="text/javascript" src="/javascript/jquery.js"></script>
    <script src="/javascript/highcharts.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/stylesheets/screen.css" type="text/css" media="screen, projection">
    <!--[if lt IE 8]><link rel="stylesheet" href="/stylesheets/ie.css" type="text/css" media="screen, projection"><![endif]-->
  </head>
  <body>
    <div class="container">
      <h1>Group Buying Dynamics</h1>
      <div id="chart">
      </div>
      <div class="span-8">
        <h2>See Detailed Report</h2>
        <p>
          <a href="/groupon">Groupon</a>
        </p>
        <p>
          <a href="#">OpenTable</a> (coming soon)
        </p>
        <p>
          <a href="#">TravelZoo</a> (coming soon)
        </p>
      </div>
    </div>
<script type="text/javascript">
var chart;
$(document).ready(function() {
   chart = new Highcharts.Chart({
      chart: {
         renderTo: 'chart',
         defaultSeriesType: 'line',

         marginBottom: 25
      },
      title: {
        text: "Groupon"
      },
      xAxis: {
         categories: [<%= @categories.join(", ") %>]

      },
      yAxis: {
         title: {
            text: 'Value ($)'
         },
         plotLines: [{
            value: 0,
            width: 1,
            color: '#808080'
         }]
      },
      tooltip: {
         formatter: function() {
                   return '<b>'+ this.x +'</b>' + this.y + '$';
         }
      },
      legend: {
         layout: 'vertical',
         align: 'right',
         verticalAlign: 'top',
         x: -10,
         y: 100,
         borderWidth: 0
      },
      series: [{
         name: 'Groupon',
         data: [<%= @values.join(", ") %>]
   }]
   });


});
</script>
  </body>
</html>
